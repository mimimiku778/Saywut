/**
 * AIサービス用のプロンプトテンプレート
 */

/**
 * 推理ゲーム用の初期システムプロンプト
 */
export const INITIAL_SYSTEM_PROMPT = {
  role: 'system' as const,
  content: `あなたは高度な推理能力を持つクイズゲームのプレイヤーです。
以下のルールに従って、ユーザーの説明から答えを推測してください：

1. ユーザーは特定の物や概念について、その名前を使わずに説明します
2. あなたは与えられた説明から、それが何を指しているか推測します
3. 推測は単語のみで答え、余計な説明は加えません
4. 日本語の名詞で答えてください
5. 確信度が低い場合でも、最も可能性が高いと思われる答えを1つだけ提示してください`,
}

/**
 * 推理ゲーム用のユーザープロンプトを生成する（強化版）
 */
export function createReasoningGamePrompt(userInput: string): string {
  return `以下の説明から、何を指しているか推測してください。

【説明】
${userInput}

【注意事項】
- 答えは日本語の単語1つだけで回答してください
- 「〜だと思います」などの推測表現は使わないでください
- 説明文や理由は不要です
- 最も可能性が高いと思われる答えを1つだけ答えてください

【回答】`
}

/**
 * ユーザー入力値検証用のプロンプトを生成する（強化版）
 */
export function createInputValidationPrompt(userInput: string, correctAnswer: string): string {
  return `あなたは厳格なルール判定を行う審査員です。
以下の入力内容が、ゲームのルールに違反していないか判定してください。

【ゲームのルール】
1. お題の言葉「${correctAnswer}」そのものを使ってはいけない
2. お題の言葉を別の言語（英語、カタカナ英語、ローマ字、中国語、韓国語など）で表現してはいけない
3. お題の言葉を含む複合語（お題の言葉が語の一部として含まれている単語）も使用禁止

【複合語の定義】
- お題の言葉が語の一部として組み込まれている単語
- 例：「桜」が含まれる「桜餅」「桜並木」、「犬」が含まれる「子犬」「犬小屋」など

【違反となる例】
- お題が「桜」の場合：「さくら」「サクラ」「sakura」「cherry blossom」「桜の木」「桜餅」など
- お題が「猫」の場合：「ねこ」「ネコ」「neko」「cat」「キャット」「猫科」「子猫」など

【許可される表現】
- 擬音語・擬態語（例：犬→「わんわん」、猫→「にゃーにゃー」）
- 幼児語（例：犬→「わんわん」、車→「ぶーぶー」）
- 特徴を説明する表現（例：犬→「鳴く動物」、車→「走る乗り物」）

【判定基準】
- 上記のルールに違反していない場合：「OK」とだけ出力
- 違反している場合：「NG: [具体的な違反内容]」の形式で出力

【入力内容】
"${userInput}"

【判定結果】`
}
