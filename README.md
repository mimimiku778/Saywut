# 🤖 AIクイズゲーム

AIに言葉を当てさせる逆転発想のクイズゲーム

## 🎯 ゲーム概要

このゲームは、プレイヤーが「先生」となり、AIに言葉を教える逆転型のクイズゲームです。通常のクイズゲームとは異なり、人間が問題を出し、AIが答えるという新しい体験を提供します。

### ゲームコンセプト
- **役割の逆転**: プレイヤーがクイズマスターとなり、AIが解答者になる
- **創造的思考**: 言葉を使わずに概念を説明する力が試される
- **AI との対話**: 最新のAI技術と直接やり取りできる
- **言語学習**: 語彙力と表現力を楽しみながら向上させる

## ✨ 特徴

- **シンプルな操作**: お題の言葉を使わずに特徴を説明するだけ
- **レスポンシブデザイン**: PC・スマホ両対応
- **リアルタイム分析**: AIが理由付きで回答

## 🤖 AIエンジン

### Chrome Built-in AI (Gemini Nano) - デフォルト
- ローカル環境での推奨オプション
- インターネット接続不要
- プライバシー保護
- 高速応答
- **デフォルトで選択されます**

### OpenAI API (GPT-4)
- 本番環境での推奨オプション  
- 高精度な推論
- 豊富な知識ベース
- APIキーが必要

## 🎮 ゲームルール

### 基本ルール
1. **お題の言葉を使わない**: 表示された言葉そのものを説明文に含めてはいけません
2. **翻訳禁止**: 他言語への翻訳（英語、カタカナ、ローマ字、中国語、韓国語など）は使用できません
3. **複合語禁止**: お題を含む複合語も使用できません（例：「桜」がお題の場合、「桜餅」「桜並木」は使用不可）

### 許可されている表現
- オノマトペ（擬音語・擬態語）
- 赤ちゃん言葉
- 特徴的な説明（色、形、大きさ、用途など）
- 比喩や例え話

## 🎮 遊び方

1. **AIサービスを選択**: 画面上部でGemini NanoまたはOpenAI GPT-4を選択
2. **お題を確認**: 画面に表示されたお題の言葉を確認
3. **特徴を説明**: ルールに従ってお題の特徴を入力
4. **二段階判定**: 
   - 第一段階：AIがルール違反をチェック
   - 第二段階：ルールをクリアしていれば、AIが答えを推測
5. **結果を確認**: AIの推測が正解かどうかを確認し、スコアを獲得

### 説明のコツ
- **具体的な特徴**: 色、形、大きさ、質感を描写
- **用途や目的**: 何に使うか、どんな時に見るか
- **関連する場所**: どこで見かけるか、どんな場所にあるか
- **感覚的な表現**: 見た目、音、匂い、触感など
- **比較や例え**: 「〜のような」「〜に似ている」

### 例
- **お題**: 桜
- **良い説明の例**:
  - "春に咲くピンクの美しい花"
  - "日本の春を代表する花で、花見の主役"
  - "薄いピンク色の花びらが5枚ある花"
- **ルール違反の例**:
  - "桜は日本の花です" (お題の言葉を使用)
  - "Cherry blossomのこと" (翻訳を使用)
  - "桜餅に使われる葉っぱがある木" (複合語を使用)

## 🛠️ 技術スタック

- **フロントエンド**: React 18 + TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **AIエンジン**: OpenAI API + Chrome Built-in AI
- **言語**: TypeScript

## 🚀 セットアップ

### 環境設定

1. `.env`ファイルを作成（`.env.example`を参考に）:
```bash
# OpenAI API設定（オプション）
VITE_OPENAI_API_KEY=your_openai_api_key_here
```

2. Chrome Built-in AIを使用する場合:
   - Chrome Canary または Dev版を使用
   - `chrome://flags/#prompt-api-for-gemini-nano` を有効化
   - `chrome://flags/#optimization-guide-on-device-model` を有効化

3. OpenAI APIを使用する場合:
   - [OpenAI Platform](https://platform.openai.com/api-keys)でAPIキーを取得
   - `.env`ファイルまたはUI上でAPIキーを設定

### インストールと起動

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev

# ビルド
npm run build

# プレビュー
npm run preview
```

## 📁 プロジェクト構成

```
src/
├── components/           # Reactコンポーネント
│   ├── Header.tsx       # ヘッダー・スコア表示
│   ├── GameBoard.tsx    # メインゲーム画面
│   ├── ResultDisplay.tsx # 結果表示
│   ├── GameRules.tsx    # ルール説明
│   └── AIServiceSelector.tsx # AIサービス選択UI
├── hooks/
│   └── useGameState.ts  # ゲーム状態管理
├── services/            # AIサービス管理
│   ├── types.ts         # 共通インターフェース
│   ├── baseAIService.ts # 基底クラス
│   ├── chromeAIService.ts # Chrome AI実装
│   ├── openAIService.ts # OpenAI API実装
│   └── aiService.ts     # シンプルなファクトリー関数群
├── types/
│   └── index.ts         # 型定義
├── App.tsx              # メインアプリ
├── main.tsx             # エントリーポイント
└── index.css            # スタイル
```

## 🎯 スコアリングシステム

### 基本スコア
- **正解**: +1ポイント
- **不正解**: 0ポイント
- **ルール違反**: 0ポイント（その回はノーカウント）

### 統計情報
- **合計スコア**: 正解した問題数の累計
- **挑戦回数**: ルールをクリアして回答した問題数
- **正答率**: (正解数 ÷ 挑戦回数) × 100%

### ゲーム進行
- **無限プレイ**: 目標スコアやゲームオーバーはなく、自由に続けられます
- **リセット機能**: いつでもスコアをリセットして最初から始められます
- **セッション永続**: ブラウザを閉じてもスコアは保持されます

## 📚 お題の種類（30種類）

### カテゴリー別
- **自然**: 桜、雨、雪、海、山、虹、風、太陽、月
- **動物**: 猫、犬、鳥、魚
- **食べ物**: ラーメン、寿司、コーヒー
- **物品**: 本、ピアノ、スマートフォン、時計、鏡、傘
- **場所・建物**: 東京タワー、富士山、学校、病院、公園
- **概念**: 愛、夢

## ✨ 実装済み機能

- ✅ レスポンシブなApple風UI
- ✅ **シンプルなAIサービス設計（毎回新しいインスタンス作成）**
- ✅ **リアルタイムAIサービス切り替え**
- ✅ **Chrome Built-in AI (Gemini Nano) サポート**
- ✅ **OpenAI API (GPT-4) サポート**
- ✅ ゲーム状態管理
- ✅ スコア・正答率の追跡
- ✅ リアルタイムフィードバック
- ✅ 複数のお題（30種類）
- ✅ ルール違反の検出（お題の言葉を使用した場合）
- ✅ アニメーション・トランジション効果
- ✅ 確信度表示
- ✅ **UI上でのAPIキー設定**

## 🔮 今後の拡張予定

- [ ] 難易度レベル選択
- [ ] お題カテゴリー選択
- [ ] ゲーム履歴の保存
